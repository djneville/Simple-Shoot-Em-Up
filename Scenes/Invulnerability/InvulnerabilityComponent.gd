extends Timer

# Duration of invulnerability in seconds
@export var invuln_duration: float = 1.0
#TODO: LOL this component might be overkill.... its just a timer...
#TODO: ADD THE ANIMATION EFFECTS IN HERE!!!

# Signals to notify when invulnerability starts and ends
signal invulnerability_started()
signal invulnerability_ended()

var is_invulnerable: bool = false

func _ready():
    self.wait_time = invuln_duration
    self.one_shot = true
    self.timeout.connect(_on_invuln_timeout)

func start_invulnerability():
    is_invulnerable = true
    invulnerability_started.emit()
    self.start()

func _on_invuln_timeout():
    is_invulnerable = false
    invulnerability_ended.emit()
